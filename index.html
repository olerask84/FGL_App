<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Funder Golf League (FGL)</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a3d62" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="assets/icons/FGL_192.png">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <header class="topbar">
      <button id="menuBtn" class="btn primary icon-only" aria-label="Menu" title="Menu">☰</button>
      <button id="addPlayerBtn" class="btn primary" aria-label="Tilføj spiller">Tilføj spiller</button>
      <button id="endRoundBtn" class="btn primary hidden end-round-btn" aria-label="Afslut runde">Afslut runde</button>
      <button id="resetBtn" class="btn danger hidden" aria-label="Nulstil app">Reset</button>
    </header>

    <nav id="tabs" class="tabs" aria-label="Spillere (faner)"></nav>
    <main id="tabPanels" class="tab-panels"></main>
  </div>

  <!-- Nulstil-dialog -->
  <div id="confirmOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
    <div class="dialog" role="document">
      <h3 id="confirmTitle">Nulstil app?</h3>
      <p>Er du sikker på, at du vil nulstille app’en?</p>
      <div class="actions">
        <button id="confirmYes" class="btn danger">Ja</button>
        <button id="confirmNo" class="btn">Nej</button>
      </div>
    </div>
  </div>

  <!-- Spiller-vælger -->
  <div id="pickerOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="pickerTitle">
    <div class="dialog" role="document">
      <h3 id="pickerTitle">Vælg spillere</h3>
      <div id="pickerList" class="picker-list" role="listbox" aria-label="Spillerliste"></div>
      <div class="actions">
        <button id="pickerConfirm" class="btn primary" disabled>OK</button>
        <button id="pickerClose" class="btn">Annuller</button>
      </div>
    </div>
  </div>

  <!-- Afslut runde: bekræft -->
  <div id="endRoundOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="endRoundTitle">
    <div class="dialog" role="document">
      <h3 id="endRoundTitle">Afslut runde?</h3>
      <p id="endRoundMessage">Vil du afslutte runden og indsende data?</p>
      <div class="actions">
        <button id="endRoundConfirmYes" class="btn primary">Ja</button>
        <button id="endRoundConfirmNo" class="btn">Nej</button>
      </div>
    </div>
  </div>

  <!-- Afslut runde: indtast bane -->
  <div id="courseNameOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="courseNameTitle">
    <div class="dialog" role="document">
      <h3 id="courseNameTitle">Indtast bane</h3>
      <input type="text" id="courseNameInput" placeholder="Bane-navn..." />
      <div class="actions">
        <button id="courseNameOk" class="btn primary">OK</button>
        <button id="courseNameCancel" class="btn">Annuller</button>
      </div>
    </div>
  </div>
  
  <!-- Menu-Overlay: viser liste over faner (ekskl. Noter & Spiller) -->
  <div id="menuOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="menuTitle">
    <div class="dialog" role="document">
      <div class="menu-head">
        <h3 id="menuTitle">Menu</h3>
        <button id="menuClose" class="btn">Luk</button>
      </div>
      <div id="menuList" class="menu-list" role="listbox" aria-label="Ark/faner"></div>
    </div>
  </div>

  <!-- Viewer-side: fuldskærm, brand-farvet baggrund, tilbagepil -->
  <div id="sheetViewer" class="sheet-viewer hidden" aria-live="polite">
    <div class="sheet-viewer-header">
      <button id="sheetBack" class="back-btn" aria-label="Tilbage">←</button>
      <h3 id="sheetViewerTitle" class="sheet-viewer-title"></h3>
    </div>
    <div id="sheetViewerContent" class="sheet-viewer-content">
      <!-- Indhold (tabel) injiceres via JS -->
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator && location.protocol.startsWith('http')) {
      window.addEventListener('load', () => navigator.serviceWorker.register('service-worker.js'));
    }
  </script>



</body>
</html>
